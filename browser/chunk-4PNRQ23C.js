import{a as N}from"./chunk-BIEDQ6MX.js";import{a as P,b as E,c as G,d as h,g as O,i as y,j as X,l as S,m as R,n as L}from"./chunk-PGLOZANA.js";import{g as k,j as M}from"./chunk-RVLZZBJZ.js";import{Ib as A,Kb as F,La as U,Nb as D,Oa as i,Q as w,Qa as l,Ra as s,Sa as c,Ua as x,Va as m,Wa as C,Ya as f,Z as u,Za as I,_,_a as p,gb as B,ya as r,za as g}from"./chunk-ENVQAO3F.js";var j=o=>({"is-invalid":o});function T(o,n){if(o&1&&(l(0,"div",4),f(1),s()),o&2){let e=m();r(),p(" ",e.errorMessage," ")}}var v=class o{label;type="text";controlName;formGroup;placeholder="";get errorMessage(){let n=this.formGroup.get(this.controlName);if(n&&n.touched&&n.invalid){if(n.errors?.required)return`${this.label} is required.`;if(n.errors?.minlength)return`${this.label} must be at least ${n.errors.minlength.requiredLength} characters.`;if(n.errors?.maxlength)return`${this.label} cannot exceed ${n.errors.maxlength.requiredLength} characters.`;if(n.errors?.email)return"Please enter a valid email address."}return null}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=u({type:o,selectors:[["app-form-input"]],inputs:{label:"label",type:"type",controlName:"controlName",formGroup:"formGroup",placeholder:"placeholder"},decls:5,vars:11,consts:[[1,"form-group",3,"formGroup"],[3,"for"],[1,"form-control",3,"type","id","formControlName","placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(e,t){if(e&1&&(l(0,"div",0)(1,"label",1),f(2),s(),c(3,"input",2),U(4,T,2,1,"div",3),s()),e&2){let a,d;i("formGroup",t.formGroup),r(),C("for",t.controlName),r(),I(t.label),r(),C("id",t.controlName),i("type",t.type)("formControlName",t.controlName)("placeholder",t.placeholder)("ngClass",B(9,j,((a=t.formGroup.get(t.controlName))==null?null:a.touched)&&((a=t.formGroup.get(t.controlName))==null?null:a.invalid))),r(),i("ngIf",((d=t.formGroup.get(t.controlName))==null?null:d.touched)&&((d=t.formGroup.get(t.controlName))==null?null:d.invalid))}},dependencies:[A,F,P,G,h,y,X],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:20px;width:100%}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:16px;margin-bottom:8px}.form-control[_ngcontent-%COMP%]{width:90%;max-width:600px;height:46px;padding:0 16px;border-radius:4px;font-size:18px}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.invalid-feedback[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:4px}"]})};function $(o,n){if(o&1&&(l(0,"div",13),f(1),s()),o&2){let e=m();r(),p(" ",e.loginError," ")}}function Y(o,n){if(o&1&&(l(0,"div",13),f(1),s()),o&2){let e=m();r(),p(" ",e.usernameError," ")}}function H(o,n){if(o&1&&(l(0,"div",13),f(1),s()),o&2){let e=m();r(),p(" ",e.emailError," ")}}function Q(o,n){if(o&1&&(l(0,"div",13),f(1),s()),o&2){let e=m();r(),p(" ",e.passwordError," ")}}var b=class o{constructor(n,e,t){this.fb=n;this.router=e;this.authService=t;this.loginForm=this.fb.group({username:["",[E.required,E.minLength(3)]],email:["",[E.required,E.email]],password:["",[E.required,E.minLength(6)]]})}loginForm;loginError="";usernameError="";emailError="";passwordError="";login(){if(this.loginError="",this.usernameError="",this.emailError="",this.passwordError="",this.loginForm.valid){let{username:n,email:e,password:t}=this.loginForm.value,a=this.authService.getUserByUsername(n,e);a?a.password===t?(localStorage.setItem("user",a.username),localStorage.setItem("role",a.role),a.role==="admin"?this.router.navigate(["/dashboard"]):this.router.navigate(["/home"]),console.log(`Hello ${a.role}`)):this.passwordError="\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D\u0629":this.usernameError="\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0623\u0648 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u063A\u064A\u0631 \u0635\u062D\u064A\u062D"}else this.loginForm.get("username")?.invalid&&(this.usernameError="\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0627\u0633\u0645 \u0645\u0633\u062A\u062E\u062F\u0645 \u0635\u0627\u0644\u062D"),this.loginForm.get("email")?.invalid&&(this.emailError="\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0635\u0627\u0644\u062D"),this.loginForm.get("password")?.invalid&&(this.passwordError="\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0643\u0644\u0645\u0629 \u0645\u0631\u0648\u0631 \u0635\u0627\u0644\u062D\u0629")}static \u0275fac=function(e){return new(e||o)(g(S),g(k),g(N))};static \u0275cmp=u({type:o,selectors:[["app-login"]],decls:18,vars:9,consts:[[1,"container"],[1,"left"],[1,"login-container"],[1,"title-container","text-center"],["src","https://res.cloudinary.com/drvwqlgqw/image/upload/v1727273593/colorful-shopping-bag-with-rainbow-colored-handle_1126821-16651-removebg-preview_ne1vuv.png","width","100","height","100","alt","Logo",1,"logo"],[1,"title"],[1,"form",3,"ngSubmit","formGroup"],["label","User Name","type","text","controlName","username","placeholder","Enter your username",3,"formGroup"],["label","Email","type","email","controlName","email","placeholder","Enter your email",3,"formGroup"],["label","Password","type","password","controlName","password","placeholder","Enter your password",3,"formGroup"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"right"],[1,"invalid-feedback"]],template:function(e,t){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c(4,"img",4),l(5,"h1",5),f(6,"ChicCart"),s()(),l(7,"form",6),x("ngSubmit",function(){return t.login()}),c(8,"app-form-input",7)(9,"app-form-input",8)(10,"app-form-input",9),U(11,$,2,1,"div",10)(12,Y,2,1,"div",10)(13,H,2,1,"div",10)(14,Q,2,1,"div",10),l(15,"button",11),f(16," LOGIN "),s()()()(),c(17,"div",12),s()),e&2&&(r(7),i("formGroup",t.loginForm),r(),i("formGroup",t.loginForm),r(),i("formGroup",t.loginForm),r(),i("formGroup",t.loginForm),r(),i("ngIf",t.loginError),r(),i("ngIf",t.usernameError),r(),i("ngIf",t.emailError),r(),i("ngIf",t.passwordError),r(),i("disabled",t.loginForm.invalid))},dependencies:[F,O,h,y,v],styles:['@font-face{font-family:Rubik;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nErXyi0A.woff2) format("woff2");unicode-range:U+0600-06FF,U+0750-077F,U+0870-088E,U+0890-0891,U+0898-08E1,U+08E3-08FF,U+200C-200E,U+2010-2011,U+204F,U+2E41,U+FB50-FDFF,U+FE70-FE74,U+FE76-FEFC,U+102E0-102FB,U+10E60-10E7E,U+10EFD-10EFF,U+1EE00-1EE03,U+1EE05-1EE1F,U+1EE21-1EE22,U+1EE24,U+1EE27,U+1EE29-1EE32,U+1EE34-1EE37,U+1EE39,U+1EE3B,U+1EE42,U+1EE47,U+1EE49,U+1EE4B,U+1EE4D-1EE4F,U+1EE51-1EE52,U+1EE54,U+1EE57,U+1EE59,U+1EE5B,U+1EE5D,U+1EE5F,U+1EE61-1EE62,U+1EE64,U+1EE67-1EE6A,U+1EE6C-1EE72,U+1EE74-1EE77,U+1EE79-1EE7C,U+1EE7E,U+1EE80-1EE89,U+1EE8B-1EE9B,U+1EEA1-1EEA3,U+1EEA5-1EEA9,U+1EEAB-1EEBB,U+1EEF0-1EEF1}@font-face{font-family:Rubik;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nMrXyi0A.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Rubik;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nFrXyi0A.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Rubik;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nDrXyi0A.woff2) format("woff2");unicode-range:U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:Rubik;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nPrXyi0A.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Rubik;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nBrXw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Rubik;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nErXyi0A.woff2) format("woff2");unicode-range:U+0600-06FF,U+0750-077F,U+0870-088E,U+0890-0891,U+0898-08E1,U+08E3-08FF,U+200C-200E,U+2010-2011,U+204F,U+2E41,U+FB50-FDFF,U+FE70-FE74,U+FE76-FEFC,U+102E0-102FB,U+10E60-10E7E,U+10EFD-10EFF,U+1EE00-1EE03,U+1EE05-1EE1F,U+1EE21-1EE22,U+1EE24,U+1EE27,U+1EE29-1EE32,U+1EE34-1EE37,U+1EE39,U+1EE3B,U+1EE42,U+1EE47,U+1EE49,U+1EE4B,U+1EE4D-1EE4F,U+1EE51-1EE52,U+1EE54,U+1EE57,U+1EE59,U+1EE5B,U+1EE5D,U+1EE5F,U+1EE61-1EE62,U+1EE64,U+1EE67-1EE6A,U+1EE6C-1EE72,U+1EE74-1EE77,U+1EE79-1EE7C,U+1EE7E,U+1EE80-1EE89,U+1EE8B-1EE9B,U+1EEA1-1EEA3,U+1EEA5-1EEA9,U+1EEAB-1EEBB,U+1EEF0-1EEF1}@font-face{font-family:Rubik;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nMrXyi0A.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Rubik;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nFrXyi0A.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Rubik;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nDrXyi0A.woff2) format("woff2");unicode-range:U+0590-05FF,U+200C-2010,U+20AA,U+25CC,U+FB1D-FB4F}@font-face{font-family:Rubik;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nPrXyi0A.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Rubik;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rubik/v28/iJWKBXyIfDnIV7nBrXw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Rubik,sans-serif;margin:0;padding:0}.container[_ngcontent-%COMP%]{display:flex;height:100vh}.left[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:20px;width:440px;animation:_ngcontent-%COMP%_left 1s ease-in-out forwards}.right[_ngcontent-%COMP%]{flex:1;background-color:#000;background-image:url(https://img.freepik.com/free-photo/commerce-push-ecommerce-store-cart-supermarket_1418-13.jpg?size=626&ext=jpg&ga=GA1.1.1816030214.1726225267&semt=ais_hybrid);background-size:cover;background-repeat:no-repeat;background-position:center}.login-container[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-direction:column}.form-field[_ngcontent-%COMP%]{height:46px;padding:0 16px;border:2px solid #ddd;border-radius:4px;font-family:Rubik,sans-serif;outline:none;transition:border-color .2s ease;margin-top:20px}.form-field[_ngcontent-%COMP%]:focus{border-color:#0f7ef1}button[_ngcontent-%COMP%]{padding:12px;border:none;background:linear-gradient(to right,#de48b5,#0097ff);border-radius:3px;margin-top:10px;color:#fff;letter-spacing:1px;font-family:Rubik,sans-serif;cursor:pointer}button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.animation[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_move;animation-duration:.4s;animation-fill-mode:both}@keyframes _ngcontent-%COMP%_move{0%{opacity:0;visibility:hidden;transform:translateY(-40px)}to{opacity:1;visibility:visible;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_left{0%{opacity:0;width:0}to{opacity:1;width:440px}}.invalid-feedback[_ngcontent-%COMP%]{color:red;font-size:12px}.title-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.logo[_ngcontent-%COMP%]{width:100px;height:auto}.title[_ngcontent-%COMP%]{color:#333;font-family:Lobster,cursive}']})};var J=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=_({type:o});static \u0275inj=w({imports:[D,R,L,M.forChild([{path:"",component:b}])]})};export{J as AuthModule};
